package penTest.keep;

import java.util.*;

public class Main3 {
    public static void main(String[] args) {
        int[][] arr={{1,1},{2,2},{2,3},{0,2},{1,4},{0,1},{1,5},{0,1}};
        int[] process = process(arr);
        System.out.println(process[2]);
    }
    private static int[] process(int[][] queries){
        List<Integer> list = new ArrayList<>();
        Deque<Integer> deque = new LinkedList<>() ;
        for (int[] query : queries) {
            switch (query[0]) {
                case 1:
                    deque.addFirst(query[1]);
                    break;
                case 2:
                    deque.addLast(query[1]);
                    break;
                case 0:
                    list.add(searchindex(deque, query[1]));
                    break;
            }
        }
        int[] res = new int[list.size()];
        for(int i = 0; i < list.size();i++){
            res[i] = list.get(i);
        }
        return res;
    }

    private static Integer searchindex(Deque<Integer> deque, int i) {
        int len = deque.size();
        int index = 0;
        for(Integer element : deque) {
            if (element.equals(i)){
                break;
            }
            index++;
        }
        return Math.min(len - index - 1, index);
    }
}
