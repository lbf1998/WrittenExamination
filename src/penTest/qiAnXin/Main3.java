package penTest.qiAnXin;

import java.util.Scanner;

public class Main3 {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        String str = scanner.nextLine();
        String[] strings = str.split(",");
        int[] a = new int[strings.length];
        a[0] = Integer.parseInt(strings[0].split("\\[")[1]);
        for (int i = 1; i < a.length-1; i++) {
            a[i] = Integer.parseInt(strings[i]);
        }
        a[a.length-1] = Integer.parseInt(strings[strings.length-1].split("\\]")[0]);
        int ans = area(a);
        System.out.println(ans);
    }

    private static int area(int[] height) {
        int largeArea = 0, left=0, right=height.length-1;
        while(left < right){
            largeArea = Math.max(largeArea, Math.min(height[left], height[right])*(right-left));
            if (height[left] < height[right]){
                left++;
            }else{
                right--;
            }
        }
        return largeArea;
    }
}
